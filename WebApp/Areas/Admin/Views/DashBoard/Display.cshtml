@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model WebApp.Models.SanPham
@{
    SelectList categories = ViewBag.Categories;
}
<h2>Product Details</h2>
 
<div>
    <h4 class="mt-2">Name: @Model.SpName</h4>
    <h4 class="mt-2">Price: @Model.Price</h4>
    <h4 class="mt-2">Mota: @Model.MoTa</h4>
    <h4 class="mt-2">Congdung: @Model.CongDung</h4>
    <h4 class="mt-2">TPDD: @Model.ThanhPhanDinhDuong</h4>
    <h4 class="mt-2">HDSD: @Model.Hdsd</h4>
    <h4 class="mt-2">Category: 
        @{
            string? categoryName = categories
            .Cast<SelectListItem>()
            .Where(item => item.Value == Model.Idcategory)
            .Select(item => item.Text)
            .FirstOrDefault();
        }
        @categoryName
    </h4>

    @if (Model.HinhAnhSp is not null)
    {
        <img src="data:image/*;base64,@(Convert.ToBase64String(Model.HinhAnhSp))" alt="Product Image" class="img-thumbnail mt-2" style="width: 300px" />
    }
</div>
<a asp-action="Index" class="btn btn-success mt-2">Back to List</a>
@if ((await AuthorizationService.AuthorizeAsync(User, "RequireAdmin")).Succeeded)
{
    <a asp-action="Update" asp-route-id="@Model.Idsp" class="btn btn-warning mt-2">Edit</a>
}
@section Scripts {
}